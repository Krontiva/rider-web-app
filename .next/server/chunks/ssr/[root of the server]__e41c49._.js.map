{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/dibelaba/Documents/GitHub/rider-web-app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/dibelaba/Documents/GitHub/rider-web-app/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AAIA;AAHA;AACA;AAJA;;;;;;AAQA,MAAM,SAAS,mKAAgB,IAAI;AAEnC,MAAM,gBAAgB,mKAAgB,OAAO;AAE7C,MAAM,eAAe,mKAAgB,MAAM;AAE3C,MAAM,cAAc,mKAAgB,KAAK;AAEzC,MAAM,8BAAgB,sMAAM,UAAU,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,mKAAgB,OAAO;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,mKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,sMAAM,UAAU,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,mKAAgB,OAAO;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,mKAAgB,KAAK;wBAAC,WAAU;;0CAC/B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,mKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,sMAAM,UAAU,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,mKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,sMAAM,UAAU,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,mKAAgB,WAAW;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,mKAAgB,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///Users/dibelaba/Documents/GitHub/rider-web-app/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,sMAAM,UAAU,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2WACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///Users/dibelaba/Documents/GitHub/rider-web-app/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAEA;AAHA;AAHA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,sMAAM,UAAU,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAe,IAAI;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,kKAAe,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/dibelaba/Documents/GitHub/rider-web-app/src/components/ui/visually-hidden.tsx"],"sourcesContent":["import React from \"react\";\n\nexport function VisuallyHidden({ children }: { children: React.ReactNode }) {\n  return (\n    <span style={{\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: '1px',\n      margin: '-1px',\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      width: '1px',\n      whiteSpace: 'nowrap',\n    }}>\n      {children}\n    </span>\n  );\n} "],"names":[],"mappings":";;;;;AAEO,SAAS,eAAe,EAAE,QAAQ,EAAiC;IACxE,qBACE,8OAAC;QAAK,OAAO;YACX,QAAQ;YACR,MAAM;YACN,QAAQ;YACR,QAAQ;YACR,UAAU;YACV,SAAS;YACT,UAAU;YACV,OAAO;YACP,YAAY;QACd;kBACG;;;;;;AAGP"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/dibelaba/Documents/GitHub/rider-web-app/src/app/components/PricingPreferences.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useRouter } from 'next/navigation';\nimport { VisuallyHidden } from '@/components/ui/visually-hidden';\n\ninterface Route {\n  id: number;\n  pickup: {\n    name: string;\n    coordinates: string;\n  };\n  dropoff: {\n    name: string;\n    coordinates: string;\n  };\n  userPrice: string;\n  averagePrice: number | null;\n}\n\ninterface PriceSubmission {\n  id: string;\n  created_at: number;\n  delika_user_table_id: string;\n  prices: {\n    name: string;\n    price: number;\n    currency: string;\n    amountInWords: string;\n    distance?: number;\n  }[];\n}\n\ninterface StandardPrice {\n  name: string;\n  price: number;\n  currency: string;\n  amountInWords: string;\n  distance?: number | string;\n}\n\nconst initialRoutes: Route[] = [\n  {\n    id: 1,\n    pickup: {\n      name: \"Madina Zongo Junction\",\n      coordinates: \"5.6764° N, -0.1775° W\",\n    },\n    dropoff: {\n      name: \"Boundary Road, East Legon\",\n      coordinates: \"5.6390° N, -0.1675° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n  {\n    id: 2,\n    pickup: {\n      name: \"Oxford Street, Osu\",\n      coordinates: \"5.5520° N, -0.1950° W\",\n    },\n    dropoff: {\n      name: \"Ministries (Accra)\",\n      coordinates: \"5.5523° N, -0.2021° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n  {\n    id: 3,\n    pickup: {\n      name: \"Oxford Street, Osu\",\n      coordinates: \"5.5520° N, -0.1950° W\",\n    },\n    dropoff: {\n      name: \"Airport Residential Area\",\n      coordinates: \"5.6095° N, -0.1680° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n  {\n    id: 4,\n    pickup: {\n      name: \"Oxford Street, Osu\",\n      coordinates: \"5.5520° N, -0.1950° W\",\n    },\n    dropoff: {\n      name: \"Tudu, Accra Central\",\n      coordinates: \"5.5524° N, -0.2020° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n  {\n    id: 5,\n    pickup: {\n      name: \"Lapaz Total\",\n      coordinates: \"5.6050° N, -0.2160° W\",\n    },\n    dropoff: {\n      name: \"Kwashieman\",\n      coordinates: \"5.6020° N, -0.2040° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n  {\n    id: 6,\n    pickup: {\n      name: \"Tudu, Accra Central\",\n      coordinates: \"5.5524° N, -0.2020° W\",\n    },\n    dropoff: {\n      name: \"Legon University\",\n      coordinates: \"5.6500° N, -0.1860° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n  {\n    id: 7,\n    pickup: {\n      name: \"Abeka\",\n      coordinates: \"5.5800° N, -0.2100° W\",\n    },\n    dropoff: {\n      name: \"Awoshie\",\n      coordinates: \"5.5800° N, -0.2300° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n  {\n    id: 8,\n    pickup: {\n      name: \"Flower Pot, Spintex\",\n      coordinates: \"5.6010° N, -0.1420° W\",\n    },\n    dropoff: {\n      name: \"Kpone Barrier\",\n      coordinates: \"5.5830° N, -0.1000° W\",\n    },\n    userPrice: \"\",\n    averagePrice: null,\n  },\n];\n\ninterface PricingPreferencesProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nfunction numberToWords(num: number): string {\n  const ones = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];\n  const tens = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];\n  const teens = ['ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];\n\n  if (num === 0) return 'zero';\n\n  function convertLessThanThousand(n: number): string {\n    if (n === 0) return '';\n\n    let result = '';\n\n    if (n >= 100) {\n      result += ones[Math.floor(n / 100)] + ' hundred ';\n      n %= 100;\n      if (n > 0) result += 'and ';\n    }\n\n    if (n >= 20) {\n      result += tens[Math.floor(n / 10)] + ' ';\n      n %= 10;\n    } else if (n >= 10) {\n      result += teens[n - 10] + ' ';\n      return result;\n    }\n\n    if (n > 0) {\n      result += ones[n] + ' ';\n    }\n\n    return result;\n  }\n\n  const wholePart = Math.floor(num);\n  const decimalPart = Math.round((num - wholePart) * 100);\n\n  let result = convertLessThanThousand(wholePart);\n  \n  if (decimalPart > 0) {\n    result += 'point ' + convertLessThanThousand(decimalPart);\n  }\n\n  return result.trim();\n}\n\n// Haversine formula to calculate distance between two lat/lng points in kilometers\nfunction haversineDistance(lat1: number, lon1: number, lat2: number, lon2: number): number {\n  const toRad = (value: number) => (value * Math.PI) / 180;\n  const R = 6371; // Earth radius in km\n  const dLat = toRad(lat2 - lat1);\n  const dLon = toRad(lon2 - lon1);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n}\n\nexport default function PricingPreferences({ open, onOpenChange }: PricingPreferencesProps) {\n  const [routes, setRoutes] = useState<Route[]>(initialRoutes);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [userId, setUserId] = useState<string | null>(null);\n  const [userPricing, setUserPricing] = useState<PriceSubmission | null>(null);\n  const [showStepper, setShowStepper] = useState(false);\n  const [standardPrices, setStandardPrices] = useState<StandardPrice[]>([]);\n  const router = useRouter();\n\n  useEffect(() => {\n    const fetchUserDetailsAndPrices = async () => {\n      try {\n        const authToken = localStorage.getItem('authToken');\n        if (!authToken) {\n          router.push('/');\n          return;\n        }\n\n        // Fetch user details\n        const userResponse = await fetch('https://api-server.krontiva.africa/api:uEBBwbSs/auth/me', {\n          headers: {\n            'X-Xano-Authorization': `Bearer ${authToken}`,\n            'X-Xano-Authorization-Only': 'true',\n          }\n        });\n\n        if (!userResponse.ok) {\n          throw new Error('Failed to get user details');\n        }\n\n        const userData = await userResponse.json();\n        setUserId(userData.id);\n\n        // Fetch pricing data\n        const pricingResponse = await fetch('https://api-server.krontiva.africa/api:uEBBwbSs/delikeriderpricing', {\n          headers: {\n            'X-Xano-Authorization': `Bearer ${authToken}`,\n          }\n        });\n\n        if (!pricingResponse.ok) {\n          throw new Error('Failed to fetch pricing data');\n        }\n\n        const pricingData: PriceSubmission[] = await pricingResponse.json();\n\n        // Fetch standard prices\n        const standardRes = await fetch('https://api-server.krontiva.africa/api:uEBBwbSs/delikeriderpricing/fe8ce25f-7990-431b-ade9-dd0f167157e9');\n        if (standardRes.ok) {\n          const standardData = await standardRes.json();\n          setStandardPrices(Array.isArray(standardData.prices) ? standardData.prices : []);\n        } else {\n          setStandardPrices([]);\n        }\n\n        // Find this user's pricing submission\n        const userPricingSubmission = pricingData.find(p => p.delika_user_table_id === userData.id) || null;\n        setUserPricing(userPricingSubmission);\n\n        // Calculate averages for each route\n        const averages = new Map<string, { total: number; count: number }>();\n        \n        pricingData.forEach(submission => {\n          submission.prices.forEach(price => {\n            if (!averages.has(price.name)) {\n              averages.set(price.name, { total: 0, count: 0 });\n            }\n            const current = averages.get(price.name)!;\n            current.total += price.price;\n            current.count += 1;\n          });\n        });\n\n        // Update routes with average prices and prefill user prices if available\n        const updatedRoutes = initialRoutes.map(route => {\n          const routeName = `${route.pickup.name} to ${route.dropoff.name}`;\n          const average = averages.get(routeName);\n          let userPrice = '';\n          if (userPricingSubmission) {\n            const userRoute = userPricingSubmission.prices.find(p => p.name === routeName);\n            if (userRoute) userPrice = userRoute.price.toString();\n          }\n          return {\n            ...route,\n            userPrice,\n            averagePrice: average ? average.total / average.count : null\n          };\n        });\n\n        setRoutes(updatedRoutes);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    if (open) {\n      fetchUserDetailsAndPrices();\n      setShowStepper(false); // Reset stepper state when modal opens\n    }\n  }, [open, router]);\n\n  const handlePriceChange = (id: number, value: string) => {\n    setRoutes(prevRoutes =>\n      prevRoutes.map(route =>\n        route.id === id ? { ...route, userPrice: value } : route\n      )\n    );\n  };\n\n  const handleNext = () => {\n    if (currentStep < routes.length - 1) {\n      setCurrentStep(prev => prev + 1);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentStep > 0) {\n      setCurrentStep(prev => prev - 1);\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (!userId) {\n      console.error('No user ID available');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const authToken = localStorage.getItem('authToken');\n      if (!authToken) {\n        router.push('/');\n        return;\n      }\n\n      const prices = routes.map(route => {\n        // Parse coordinates\n        const parseCoord = (coord: string) => {\n          // Example: \"5.6764° N, -0.1775° W\"\n          const match = coord.match(/([\\d.]+)°\\s*([NS]),\\s*([\\-\\d.]+)°\\s*([EW])/);\n          if (!match) return [0, 0];\n          let lat = parseFloat(match[1]);\n          let latDir = match[2];\n          let lon = parseFloat(match[3]);\n          let lonDir = match[4];\n          if (latDir === 'S') lat = -lat;\n          if (lonDir === 'W') lon = -lon;\n          return [lat, lon];\n        };\n        const [pickupLat, pickupLon] = parseCoord(route.pickup.coordinates);\n        const [dropoffLat, dropoffLon] = parseCoord(route.dropoff.coordinates);\n        const distance = haversineDistance(pickupLat, pickupLon, dropoffLat, dropoffLon);\n        return {\n          name: `${route.pickup.name} to ${route.dropoff.name}`,\n          price: parseFloat(route.userPrice) || 0,\n          currency: \"GHS\",\n          amountInWords: `${numberToWords(parseFloat(route.userPrice) || 0)} Ghana cedis`,\n          distance: Number(distance.toFixed(2)),\n        };\n      });\n\n      let response;\n      if (userPricing) {\n        // PATCH to update existing pricing\n        response = await fetch(`https://api-server.krontiva.africa/api:uEBBwbSs/delikeriderpricing/${userPricing.id}`,\n          {\n            method: 'PATCH',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              delika_user_table_id: userId,\n              prices: prices\n            })\n          }\n        );\n      } else {\n        // POST to create new pricing\n        response = await fetch('https://api-server.krontiva.africa/api:uEBBwbSs/delikeriderpricing', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            delika_user_table_id: userId,\n            prices: prices\n          })\n        });\n      }\n\n      if (!response.ok) {\n        throw new Error('Failed to submit prices');\n      }\n\n      setShowStepper(false);\n      onOpenChange(false);\n      router.push('/orders');\n    } catch (error) {\n      console.error('Error submitting prices:', error);\n      alert('Failed to submit prices. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const currentRoute = routes[currentStep];\n  const isLastStep = currentStep === routes.length - 1;\n  const progress = ((currentStep + 1) / routes.length) * 100;\n\n  if (isLoading) {\n    return (\n      <Dialog open={open} onOpenChange={onOpenChange}>\n        <DialogContent className=\"sm:max-w-[425px] max-h-[80vh] overflow-y-auto\">\n          <VisuallyHidden>\n            <DialogTitle>Set Your Preferred Route Prices</DialogTitle>\n          </VisuallyHidden>\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FE5B18]\"></div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  // If user has no pricing and hasn't started the stepper, show add option\n  if (!userPricing && !showStepper) {\n    return (\n      <Dialog open={open} onOpenChange={onOpenChange}>\n        <DialogContent className=\"sm:max-w-[425px] max-h-[80vh] overflow-y-auto flex flex-col items-center justify-center\">\n          <DialogTitle>Zone Pricing</DialogTitle>\n          <p className=\"text-center text-gray-600 mb-4\">You have not set any zone pricing yet.</p>\n          <button\n            className=\"px-4 py-2 text-white bg-[#FE5B18] rounded-md hover:bg-[#e54d0e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE5B18]\"\n            onClick={() => setShowStepper(true)}\n          >\n            Add Zone Pricing\n          </button>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  // If user has pricing and isn't editing, show a list of their set prices\n  if (userPricing && !showStepper) {\n    return (\n      <Dialog open={open} onOpenChange={onOpenChange}>\n        <DialogContent className=\"sm:max-w-[425px] max-h-[80vh] overflow-y-auto\">\n          <DialogTitle>Your Zone Pricing</DialogTitle>\n          <div className=\"divide-y divide-gray-200 my-4\">\n            {userPricing.prices.map((price, idx) => (\n              <div key={idx} className=\"py-3 flex flex-col\">\n                <span className=\"font-medium text-gray-900\">{price.name}</span>\n                <span className=\"text-sm text-gray-600\">GHS {price.price.toFixed(2)}</span>\n                <span className=\"text-xs text-gray-400\">{price.amountInWords}</span>\n                {typeof price.distance === 'number' && (\n                  <span className=\"text-xs text-gray-500\">Distance: {price.distance.toFixed(2)} km</span>\n                )}\n                {(() => {\n                  const std = standardPrices.find(p => p.name === price.name);\n                  if (std) {\n                    return (\n                      <span className=\"text-xs text-blue-600\">Standard: GHS {std.price} ({typeof std.distance === 'string' ? std.distance : std.distance?.toFixed(2)} km)</span>\n                    );\n                  }\n                  return null;\n                })()}\n              </div>\n            ))}\n          </div>\n          <button\n            className=\"mt-2 px-4 py-2 text-white bg-[#FE5B18] rounded-md hover:bg-[#e54d0e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE5B18]\"\n            onClick={() => setShowStepper(true)}\n          >\n            Edit Zone Pricing\n          </button>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  // Otherwise, show the stepper as before\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[425px] max-h-[80vh] overflow-y-auto\">\n        {/* Header */}\n        <DialogHeader>\n          <DialogTitle>Set Your Preferred Route Prices</DialogTitle>\n          <DialogDescription>\n            Step {currentStep + 1} of {routes.length}\n          </DialogDescription>\n        </DialogHeader>\n        {/* Progress bar */}\n        <div className=\"w-full bg-gray-200 h-2 rounded-full mb-4\">\n          <div\n            className=\"bg-[#FE5B18] h-2 rounded-full transition-all duration-300\"\n            style={{ width: `${progress}%` }}\n          />\n        </div>\n\n        {/* Row 1: Pickup & Dropoff */}\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-2\">\n          <div className=\"flex-1 space-y-1\">\n            <Label className=\"font-semibold\">Pickup</Label>\n            <p className=\"text-sm text-gray-600\">{currentRoute.pickup.name}</p>\n            <p className=\"text-xs text-gray-500\">{currentRoute.pickup.coordinates}</p>\n          </div>\n          <div className=\"flex-1 space-y-1\">\n            <Label className=\"font-semibold\">Dropoff</Label>\n            <p className=\"text-sm text-gray-600\">{currentRoute.dropoff.name}</p>\n            <p className=\"text-xs text-gray-500\">{currentRoute.dropoff.coordinates}</p>\n          </div>\n        </div>\n\n        {/* Row 2: Distance & Average Price */}\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-2\">\n          <div className=\"flex-1 space-y-1\">\n            <Label className=\"font-semibold\">Distance</Label>\n            <p className=\"text-sm text-gray-600\">\n              {(() => {\n                const parseCoord = (coord: string) => {\n                  const match = coord.match(/([\\d.]+)°\\s*([NS]),\\s*([\\-\\d.]+)°\\s*([EW])/);\n                  if (!match) return [0, 0];\n                  let lat = parseFloat(match[1]);\n                  let latDir = match[2];\n                  let lon = parseFloat(match[3]);\n                  let lonDir = match[4];\n                  if (latDir === 'S') lat = -lat;\n                  if (lonDir === 'W') lon = -lon;\n                  return [lat, lon];\n                };\n                const [pickupLat, pickupLon] = parseCoord(currentRoute.pickup.coordinates);\n                const [dropoffLat, dropoffLon] = parseCoord(currentRoute.dropoff.coordinates);\n                const distance = haversineDistance(pickupLat, pickupLon, dropoffLat, dropoffLon);\n                return `${distance.toFixed(2)} km`;\n              })()}\n            </p>\n          </div>\n          <div className=\"flex-1 space-y-1\">\n            <Label className=\"font-semibold\">Average Price</Label>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              {currentRoute.averagePrice !== null\n                ? `GHS ${currentRoute.averagePrice.toFixed(2)}`\n                : 'Not available'}\n            </p>\n            {/* Standard price (optional, can be commented out if not needed) */}\n            {(() => {\n              const std = standardPrices.find(p => p.name === `${currentRoute.pickup.name} to ${currentRoute.dropoff.name}`);\n              if (std) {\n                return (\n                  <span className=\"text-xs text-blue-600 block\">\n                    Standard: GHS {std.price} ({typeof std.distance === 'string' ? std.distance : std.distance?.toFixed(2)} km)\n                  </span>\n                );\n              }\n              return null;\n            })()}\n          </div>\n        </div>\n\n        {/* Row 3: Your Price (GHS) */}\n        <div className=\"mb-4\">\n          <Label htmlFor=\"price\">Your Price (GHS)</Label>\n          <Input\n            id=\"price\"\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0\"\n            value={currentRoute.userPrice}\n            onChange={(e) => handlePriceChange(currentRoute.id, e.target.value)}\n            placeholder=\"Enter your preferred price\"\n            className=\"w-full\"\n          />\n        </div>\n\n        {/* Footer: Previous/Next/Submit */}\n        <DialogFooter className=\"flex justify-between mt-6\">\n          <div className=\"flex gap-2 w-full\">\n            <button\n              type=\"button\"\n              onClick={handlePrevious}\n              disabled={currentStep === 0}\n              className=\"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE5B18] disabled:opacity-50\"\n            >\n              Previous\n            </button>\n            {!isLastStep ? (\n              <button\n                type=\"button\"\n                onClick={handleNext}\n                className=\"flex-1 px-4 py-2 text-sm font-medium text-white bg-[#FE5B18] rounded-md hover:bg-[#e54d0e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE5B18]\"\n              >\n                Next\n              </button>\n            ) : (\n              <button\n                type=\"button\"\n                onClick={handleSubmit}\n                disabled={isSubmitting}\n                className=\"flex-1 px-4 py-2 text-sm font-medium text-white bg-[#FE5B18] rounded-md hover:bg-[#e54d0e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE5B18] disabled:opacity-50\"\n              >\n                {isSubmitting ? 'Submitting...' : 'Submit All'}\n              </button>\n            )}\n          </div>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 1194, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1200, "column": 0}, "map": {"version":3,"sources":["file:///Users/dibelaba/Documents/GitHub/rider-web-app/src/app/orders/page.tsx"],"sourcesContent":["'use client';\nimport { useEffect, useState, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport PricingPreferences from '../components/PricingPreferences';\n\ninterface Order {\n  id: string;\n  customerName: string;\n  orderNumber: string;\n  orderStatus: string;\n  pickup: Array<{\n    fromAddress: string;\n    fromLatitude?: number;\n    fromLongitude?: number;\n  }>;\n  dropOff: Array<{\n    toAddress: string;\n  }>;\n  deliveryPrice: number;\n  batchID?: string;\n  batchedOrderNumbers?: number[];\n  courierName: string;\n  orderReceivedTime: string;\n  orderPickedupTime: string;\n  orderOnmywayTime: string;\n  customerPhoneNumber: string;\n  distance?: number;\n}\n\ntype FilterType = 'Pending' | 'Complete' | 'Cancelled';\ntype OrderType = 'All' | 'Batched' | 'Single';\n\nconst STATUS_COLORS = {\n  ReadyForPickup: {\n    background: '#DEE9FF',\n    text: '#4A6FA5'\n  },\n  Assigned: {\n    background: '#FFFCAD',\n    text: '#8B8654'\n  },\n  'Pickup': {\n    background: '#EDEDED',\n    text: '#666666'\n  },\n  OnTheWay: {\n    background: '#FFD9AD',\n    text: '#A67B4D'\n  },\n  Delivered: {\n    background: '#D2FFAD',\n    text: '#5C8C3E'\n  },\n  Cancelled: {\n    background: '#FFBDAD',\n    text: '#A65D45'\n  },\n  DeliveryFailed: {\n    background: '#000000',\n    text: '#FFFFFF'\n  },\n  Completed: {\n    background: '#D2FFAD',\n    text: '#5C8C3E'\n  }\n} as const;\n\ninterface OrderCardProps {\n  order: Order & { batchedOrders?: Order[] };\n}\n\nconst OrderCard = ({ order }: OrderCardProps) => {\n  const router = useRouter();\n\n  const getStatusColors = (status: string) => {\n    return STATUS_COLORS[status as keyof typeof STATUS_COLORS] || STATUS_COLORS.ReadyForPickup;\n  };\n\n  const handleCall = (phoneNumber: string) => {\n    window.location.href = `tel:${phoneNumber}`;\n  };\n\n  if (order.batchID && order.batchedOrders) {\n    // Calculate total amount from all orders in the batch\n    const totalAmount = order.batchedOrders.reduce((sum, batchOrder) => \n      sum + (Number(batchOrder.deliveryPrice) || 0), \n    0).toFixed(2);\n\n    return (\n      <div \n        onClick={() => router.push(`/orders/${order.id}`)}\n        className=\"bg-[#FFF8E1] p-4 rounded-lg shadow mb-4 cursor-pointer hover:shadow-md transition-shadow duration-200\"\n      >\n        <div className=\"flex justify-between items-start mb-4\">\n          <div>\n            <h3 className=\"text-xl font-semibold\">Batched</h3>\n            <p className=\"text-gray-600 text-sm\">Batch ID #{order.batchID}</p>\n          </div>\n          <span \n            className=\"px-3 py-1 rounded-full text-sm\"\n            style={{\n              backgroundColor: getStatusColors(order.orderStatus).background,\n              color: getStatusColors(order.orderStatus).text\n            }}\n          >\n            {order.orderStatus}\n          </span>\n        </div>\n\n        <div className=\"bg-white rounded-lg p-3 mb-4\">\n          {order.batchedOrders.map((batchedOrder, index) => (\n            <div key={batchedOrder.id} className=\"flex items-center py-2 border-b border-gray-100\">\n              <div className=\"w-6 h-6 rounded-full bg-[#FE5B18] flex items-center justify-center mr-3\">\n                <span className=\"text-white text-sm font-bold\">{index + 1}</span>\n              </div>\n              <div className=\"flex-1\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <span className=\"text-gray-600\">Order #{batchedOrder.orderNumber}</span>\n                    <p\n                      className=\"text-sm text-gray-500\"\n                      style={{\n                        display: '-webkit-box',\n                        WebkitLineClamp: 2,\n                        WebkitBoxOrient: 'vertical',\n                        overflow: 'hidden',\n                      }}\n                    >\n                      {batchedOrder.dropOff?.[0]?.toAddress || ''}\n                    </p>\n                    {batchedOrder.customerPhoneNumber && (\n                      <button \n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleCall(batchedOrder.customerPhoneNumber);\n                        }}\n                        className=\"text-[#FE5B18] text-sm flex items-center mt-1\"\n                      >\n                        <svg \n                          className=\"w-4 h-4 mr-1\" \n                          fill=\"currentColor\" \n                          viewBox=\"0 0 20 20\"\n                        >\n                          <path d=\"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z\" />\n                        </svg>\n                        {batchedOrder.customerPhoneNumber}\n                      </button>\n                    )}\n                  </div>\n                  <div className=\"text-right\">\n                    <span className=\"text-sm font-medium text-black\">\n                      {(batchedOrder.deliveryPrice || 0)} GHS\n                    </span>\n                    {batchedOrder.distance && (\n                      <p className=\"text-xs text-gray-500\">\n                        {batchedOrder.distance} km\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n          <div className=\"mt-3\">\n            <p className=\"font-semibold mb-1\">Pickup Point</p>\n            <p\n              className=\"text-gray-600\"\n              style={{\n                display: '-webkit-box',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: 'vertical',\n                overflow: 'hidden',\n              }}\n            >\n              {order.pickup?.[0]?.fromAddress || ''}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-lg font-bold text-black\">\n            {totalAmount} GHS\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      onClick={() => router.push(`/orders/${order.id}`)}\n      className=\"bg-white p-4 rounded-lg shadow mb-4 cursor-pointer hover:shadow-md transition-shadow duration-200\"\n    >\n      <div className=\"flex justify-between items-start mb-4\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-black\">{order.customerName}</h3>\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-gray-500 text-sm\">\n              #{String(order.orderNumber).padStart(3, '0')}\n            </span>\n            {order.customerPhoneNumber && (\n              <button \n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleCall(order.customerPhoneNumber);\n                }}\n                className=\"text-[#FE5B18] text-sm flex items-center\"\n              >\n                <svg \n                  className=\"w-4 h-4 mr-1\" \n                  fill=\"currentColor\" \n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z\" />\n                </svg>\n                {order.customerPhoneNumber}\n              </button>\n            )}\n          </div>\n        </div>\n        <span \n          className=\"px-3 py-1 rounded-full text-sm\"\n          style={{\n            backgroundColor: getStatusColors(order.orderStatus).background,\n            color: getStatusColors(order.orderStatus).text\n          }}\n        >\n          {order.orderStatus}\n        </span>\n      </div>\n\n      <div className=\"flex gap-4 mb-4\">\n        <div className=\"flex-1\">\n          <p className=\"font-semibold mb-1 text-black\">Pickup</p>\n          <p\n            className=\"text-gray-600\"\n            style={{\n              display: '-webkit-box',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: 'vertical',\n              overflow: 'hidden',\n            }}\n          >\n            {order.pickup?.[0]?.fromAddress || ''}\n          </p>\n        </div>\n        <div className=\"flex-1\">\n          <p className=\"font-semibold mb-1 text-black\">Dropoff</p>\n          <p\n            className=\"text-gray-600\"\n            style={{\n              display: '-webkit-box',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: 'vertical',\n              overflow: 'hidden',\n            }}\n          >\n            {order.dropOff?.[0]?.toAddress || ''}\n          </p>\n        </div>\n      </div>\n\n      <div className=\"flex justify-between items-center\">\n        <span className=\"text-lg font-bold text-black\">\n          {(order.deliveryPrice || 0)} GHS\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default function Orders() {\n  const [activeTab, setActiveTab] = useState<FilterType>('Pending');\n  const [orderType, setOrderType] = useState<OrderType>('All');\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isPricingModalOpen, setIsPricingModalOpen] = useState(false);\n  const itemsPerPage = 10;\n  const router = useRouter();\n\n  const fetchOrders = useCallback(async () => {\n    try {\n      // Get auth token from localStorage\n      const authToken = localStorage.getItem('authToken');\n      if (!authToken) {\n        router.push('/'); // Redirect to login if no token\n        return;\n      }\n\n      // First get current user details\n      const userResponse = await fetch('https://api-server.krontiva.africa/api:uEBBwbSs/auth/me', {\n        headers: {\n          'X-Xano-Authorization': `Bearer ${authToken}`,\n          'X-Xano-Authorization-Only': 'true',\n        }\n      });\n\n      if (!userResponse.ok) {\n        throw new Error('Failed to get user details');\n      }\n\n      const userData = await userResponse.json();\n      const courierId = userData.id;\n\n      // Fetch orders assigned to this courier\n      const ordersResponse = await fetch(\n        `https://api-server.krontiva.africa/api:uEBBwbSs/getRiderOrders/${courierId}`,\n        {\n          headers: {\n            'X-Xano-Authorization': `Bearer ${authToken}`,\n          },\n        }\n      );\n\n      if (!ordersResponse.ok) {\n        throw new Error('Failed to fetch orders');\n      }\n\n      const riderOrders = await ordersResponse.json();\n\n      setOrders(riderOrders);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load orders');\n\n    } finally {\n      setLoading(false);\n    }\n  }, [router]);\n\n  useEffect(() => {\n    fetchOrders();\n  }, [fetchOrders]);\n\n  // Calculate counts based on order status\n  const getFilterCount = (filter: FilterType) => {\n    switch (filter) {\n      case 'Pending':\n        return orders.filter(order => order.orderStatus === 'Assigned').length;\n      case 'Complete':\n        return orders.filter(order => order.orderStatus === 'Delivered').length;\n      case 'Cancelled':\n        return orders.filter(order => order.orderStatus === 'Cancelled').length;\n      default:\n        return 0;\n    }\n  };\n\n  // Update the groupOrdersByBatch function\n  const groupOrdersByBatch = (orders: Order[]) => {\n    const grouped = orders.reduce((acc, order) => {\n      if (order.batchID) {\n        // If it's a batched order\n        if (!acc[order.batchID]) {\n          // Create new batch group\n          acc[order.batchID] = {\n            ...order,\n            dropOff: [order.dropOff?.[0]],\n            batchedOrders: [order],\n          };\n        } else {\n          // Add to existing batch\n          acc[order.batchID].dropOff.push(order.dropOff?.[0]);\n          acc[order.batchID].batchedOrders?.push(order);\n        }\n      } else {\n        // Non-batched orders use their ID as key\n        acc[`single-${order.id}`] = order;  // Add 'single-' prefix to avoid ID conflicts\n      }\n      return acc;\n    }, {} as Record<string, Order & { batchedOrders?: Order[] }>);\n\n    return Object.values(grouped);\n  };\n\n  // Update the getFilteredOrders function\n  const getFilteredOrders = () => {\n    let filteredOrders = orders;\n    \n    // First filter by status\n    switch (activeTab) {\n      case 'Pending':\n        filteredOrders = orders.filter(order => order.orderStatus === 'Assigned');\n        break;\n      case 'Complete':\n        filteredOrders = orders.filter(order => order.orderStatus === 'Delivered');\n        break;\n      case 'Cancelled':\n        filteredOrders = orders.filter(order => order.orderStatus === 'Cancelled');\n        break;\n    }\n\n\n    // Then filter by order type\n    switch (orderType) {\n      case 'Batched':\n        filteredOrders = filteredOrders.filter(order => order.batchID);\n        break;\n      case 'Single':\n        filteredOrders = filteredOrders.filter(order => !order.batchID);\n        break;\n      default:\n        // 'All' - no additional filtering needed\n        break;\n    }\n\n    return groupOrdersByBatch(filteredOrders);\n  };\n\n  const filteredOrders = getFilteredOrders();\n  \n  // Calculate pagination\n  const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const paginatedOrders = filteredOrders.slice(startIndex, startIndex + itemsPerPage);\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [activeTab, orderType]);\n\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page);\n    // Scroll to top of orders list\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const handleSignOut = () => {\n    localStorage.removeItem('authToken');\n    router.push('/');\n  };\n\n  if (loading) {\n    return <div className=\"p-4 text-center\">Loading orders...</div>;\n  }\n\n  if (error) {\n    return <div className=\"p-4 text-center text-red-500\">{error}</div>;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"px-4 py-6 md:p-6 max-w-2xl mx-auto\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h1 className=\"text-2xl font-bold text-black\">Orders</h1>\n          <div className=\"flex items-center gap-4\">\n            <button\n              onClick={() => setIsPricingModalOpen(true)}\n              className=\"text-gray-600 hover:text-[#FE5B18] flex items-center\"\n            >\n              <svg \n                className=\"w-5 h-5 mr-1\" \n                fill=\"none\" \n                stroke=\"currentColor\" \n                viewBox=\"0 0 24 24\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n              </svg>\n              Settings\n            </button>\n          <button\n            onClick={handleSignOut}\n            className=\"text-gray-600 hover:text-[#FE5B18] flex items-center\"\n          >\n            <svg \n              className=\"w-5 h-5 mr-1\" \n              fill=\"none\" \n              stroke=\"currentColor\" \n              viewBox=\"0 0 24 24\"\n            >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n            </svg>\n            Sign Out\n          </button>\n          </div>\n        </div>\n        \n        {/* Status Tabs */}\n        <div className=\"flex gap-4 md:gap-6 border-b mb-4 overflow-x-auto pb-2\">\n          {(['Pending', 'Complete', 'Cancelled'] as FilterType[]).map((tab) => (\n            <button\n              key={tab}\n              onClick={() => setActiveTab(tab)}\n              className={`pb-2 relative ${\n                activeTab === tab\n                  ? 'text-black border-b-2 border-black'\n                  : 'text-gray-500'\n              }`}\n            >\n              {tab}{' '}\n              <span className={`ml-1 ${\n                activeTab === tab \n                  ? 'text-white bg-[#FE5B18] px-1.5 rounded-md' \n                  : 'text-gray-500'\n              }`}>\n                {getFilterCount(tab)}\n              </span>\n            </button>\n          ))}\n        </div>\n\n        {/* Order Type Filters and Pagination */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <div className=\"flex gap-4\">\n            {(['All', 'Batched', 'Single'] as OrderType[]).map((type) => (\n              <button\n                key={type}\n                onClick={() => setOrderType(type)}\n                className={`px-4 py-2 rounded-full text-sm font-medium ${\n                  orderType === type\n                    ? 'bg-[#FE5B18] text-white'\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                {type}\n              </button>\n            ))}\n          </div>\n\n          {/* Pagination */}\n          {totalPages > 1 && (\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => handlePageChange(currentPage - 1)}\n                disabled={currentPage === 1}\n                className=\"p-2 rounded-full text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:hover:bg-transparent\"\n              >\n                <svg \n                  className=\"w-5 h-5\" \n                  fill=\"none\" \n                  stroke=\"currentColor\" \n                  viewBox=\"0 0 24 24\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n              </button>\n\n              <div className=\"flex items-center gap-1\">\n                {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\n                  <button\n                    key={page}\n                    onClick={() => handlePageChange(page)}\n                    className={`w-8 h-8 rounded-full text-sm font-medium ${\n                      currentPage === page\n                        ? 'bg-[#FE5B18] text-white'\n                        : 'text-gray-600 hover:bg-gray-100'\n                    }`}\n                  >\n                    {page}\n                  </button>\n                ))}\n              </div>\n\n              <button\n                onClick={() => handlePageChange(currentPage + 1)}\n                disabled={currentPage === totalPages}\n                className=\"p-2 rounded-full text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:hover:bg-transparent\"\n              >\n                <svg \n                  className=\"w-5 h-5\" \n                  fill=\"none\" \n                  stroke=\"currentColor\" \n                  viewBox=\"0 0 24 24\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                </svg>\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Orders List */}\n        <div className=\"space-y-4 md:space-y-6\">\n          {paginatedOrders.map((order) => (\n            <OrderCard \n              key={order.id} \n              order={order}\n            />\n          ))}\n        </div>\n\n        {/* No Orders Message */}\n        {paginatedOrders.length === 0 && !loading && (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-500\">No orders found</p>\n          </div>\n        )}\n\n        {/* Add PricingPreferences modal */}\n        <PricingPreferences \n          open={isPricingModalOpen} \n          onOpenChange={setIsPricingModalOpen} \n        />\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 2162, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}